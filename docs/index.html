<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MarketTime — NYSE Market Status for Your Menu Bar</title>
  <meta name="description" content="Free macOS menu bar app that shows NYSE market status with a live countdown timer. Open, closed, time until next bell — always visible.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #050505;
      --surface: #0a100a;
      --border: rgba(0,255,65,0.12);
      --border-bright: rgba(0,255,65,0.35);
      --green: #00ff41;
      --green-dim: #007a2a;
      --green-faint: #0a1f0a;
      --red: #ff3344;
      --amber: #ffaa00;
      --cyan: #00ddbb;
      --font: "Share Tech Mono", "Courier New", "Consolas", monospace;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--bg);
      color: var(--green);
      font-family: var(--font);
      font-size: 16px;
      line-height: 1.7;
      min-height: 100vh;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: repeating-linear-gradient(
        0deg, transparent, transparent 2px,
        rgba(0,0,0,0.04) 2px, rgba(0,0,0,0.04) 4px
      );
      pointer-events: none;
      z-index: 9999;
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* ── Hero ──────────────────────────────────── */
    .hero {
      text-align: center;
      padding: 80px 24px 0;
    }

    .hero-inner {
      max-width: 720px;
      margin: 0 auto;
    }

    .badge {
      display: inline-block;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: var(--bg);
      background: var(--green);
      padding: 4px 14px;
      margin-bottom: 28px;
    }

    .hero h1 {
      font-size: clamp(32px, 6vw, 52px);
      font-weight: 700;
      letter-spacing: 6px;
      text-transform: uppercase;
      line-height: 1.15;
      text-shadow: 0 0 30px rgba(0,255,65,0.3), 0 0 60px rgba(0,255,65,0.1);
      margin-bottom: 20px;
    }

    .hero-sub {
      font-size: 17px;
      color: var(--green-dim);
      max-width: 560px;
      margin: 0 auto 40px;
      line-height: 1.8;
      letter-spacing: 0.5px;
    }

    .hero-sub strong { color: var(--green); font-weight: 700; }

    /* ── Live Preview Panel ─────────────────────── */
    .live-panel {
      max-width: 400px;
      margin: 0 auto 40px;
      background: #000;
      border: 1px solid var(--border-bright);
      border-radius: 14px;
      padding: 28px 32px 24px;
      position: relative;
      box-shadow: 0 0 60px rgba(0,255,65,0.06), 0 0 120px rgba(0,255,65,0.03);
    }

    .live-panel .power-dot {
      position: absolute;
      top: 14px;
      right: 14px;
      width: 8px;
      height: 8px;
      background: var(--green);
      border-radius: 50%;
      box-shadow: 0 0 6px var(--green);
    }

    .panel-title {
      text-align: center;
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 3px;
      text-shadow: 0 0 8px rgba(0,255,65,0.25);
      margin-bottom: 12px;
    }

    .panel-status {
      text-align: center;
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 2px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      display: inline-block;
    }

    .status-dot.closed { background: var(--red); box-shadow: 0 0 8px var(--red); }
    .status-dot.open   { background: var(--green); box-shadow: 0 0 8px var(--green); }

    .panel-divider {
      height: 1px;
      background: rgba(0,255,65,0.2);
      margin: 14px 10px;
    }

    .panel-label {
      text-align: center;
      font-size: 12px;
      letter-spacing: 2px;
      color: var(--green);
      margin: 14px 0 10px;
    }

    /* ── 7-Segment Display ──────────────────────── */
    .seg-display {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 4px;
      margin: 8px 0;
      filter: drop-shadow(0 0 8px rgba(0,255,65,0.4)) drop-shadow(0 0 20px rgba(0,255,65,0.15));
    }

    .seg-digit {
      position: relative;
      width: 36px;
      height: 60px;
    }

    .seg-colon {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 14px;
      width: 12px;
      height: 60px;
    }

    .seg-colon span {
      display: block;
      width: 6px;
      height: 6px;
      background: var(--green);
      border-radius: 1px;
    }

    /* Individual segments as CSS shapes */
    .seg {
      position: absolute;
      background: var(--green-faint);
      transition: background 0.15s;
    }

    .seg.on {
      background: var(--green);
    }

    /* Horizontal segments */
    .seg-h {
      height: 5px;
      left: 4px;
      right: 4px;
      clip-path: polygon(8% 0%, 92% 0%, 100% 50%, 92% 100%, 8% 100%, 0% 50%);
    }

    /* Vertical segments */
    .seg-v {
      width: 5px;
      clip-path: polygon(50% 0%, 100% 8%, 100% 92%, 50% 100%, 0% 92%, 0% 8%);
    }

    /* Segment positions */
    .seg-a { top: 0; }
    .seg-d { bottom: 0; }
    .seg-g { top: 50%; transform: translateY(-50%); }
    .seg-b { right: 0; top: 3px; height: 46%; }
    .seg-c { right: 0; bottom: 3px; height: 46%; }
    .seg-e { left: 0; bottom: 3px; height: 46%; }
    .seg-f { left: 0; top: 3px; height: 46%; }

    .panel-info {
      margin-top: 12px;
    }

    .panel-row {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      letter-spacing: 1px;
      color: var(--green);
      padding: 3px 0;
    }

    @media (max-width: 480px) {
      .seg-digit { width: 28px; height: 48px; }
      .seg-colon { width: 10px; height: 48px; gap: 10px; }
      .seg-colon span { width: 5px; height: 5px; }
      .seg-h { height: 4px; }
      .seg-v { width: 4px; }
      .live-panel { padding: 20px 20px 18px; }
    }

    /* ── CTA Button ─────────────────────────────── */
    .cta-wrap { text-align: center; margin: 0 0 16px; }

    .cta {
      display: inline-block;
      font-family: var(--font);
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: var(--bg);
      background: var(--green);
      padding: 16px 48px;
      text-decoration: none;
      border: none;
      cursor: pointer;
      transition: box-shadow 0.3s, transform 0.15s;
      box-shadow: 0 0 20px rgba(0,255,65,0.2);
    }

    .cta:hover {
      box-shadow: 0 0 40px rgba(0,255,65,0.4), 0 0 80px rgba(0,255,65,0.15);
      transform: translateY(-1px);
    }

    .cta-note {
      font-size: 12px;
      color: var(--green-dim);
      letter-spacing: 2px;
      text-transform: uppercase;
      text-align: center;
    }

    /* ── Divider ────────────────────────────────── */
    .divider {
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--border-bright), transparent);
      margin: 60px 0;
    }

    /* ── Section Headers ────────────────────────── */
    .section-label {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 4px;
      text-transform: uppercase;
      color: var(--green-dim);
      margin-bottom: 24px;
      text-shadow: 0 0 4px rgba(0,255,65,0.15);
    }

    /* ── Feature Grid ───────────────────────────── */
    .features {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2px;
      margin-bottom: 8px;
    }

    @media (max-width: 600px) { .features { grid-template-columns: 1fr; } }

    .feature {
      background: var(--surface);
      border: 1px solid var(--border);
      padding: 28px 24px;
    }

    .feature-icon {
      display: inline-block;
      width: 12px;
      height: 12px;
      margin-bottom: 14px;
    }

    .feature-title {
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    .feature-desc {
      font-size: 13px;
      color: var(--green-dim);
      line-height: 1.7;
    }

    /* ── Screenshot ─────────────────────────────── */
    .screenshot-wrap {
      text-align: center;
      margin: 48px 0;
    }

    .screenshot-wrap img {
      max-width: 420px;
      width: 100%;
      border: 1px solid var(--border-bright);
      box-shadow: 0 0 40px rgba(0,255,65,0.08);
      border-radius: 12px;
    }

    .screenshot-caption {
      font-size: 11px;
      color: var(--green-dim);
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-top: 12px;
    }

    /* ── Install Steps ──────────────────────────── */
    .steps { counter-reset: step; }

    .step {
      display: flex;
      gap: 20px;
      padding: 20px 0;
      border-bottom: 1px solid var(--border);
    }

    .step:last-child { border-bottom: none; }

    .step::before {
      counter-increment: step;
      content: counter(step);
      font-size: 28px;
      font-weight: 700;
      color: var(--amber);
      min-width: 36px;
      text-shadow: 0 0 12px rgba(255,170,0,0.3);
      line-height: 1.2;
    }

    .step-content { flex: 1; }

    .step-title {
      font-size: 15px;
      font-weight: 700;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      margin-bottom: 6px;
    }

    .step-desc {
      font-size: 13px;
      color: var(--green-dim);
      line-height: 1.7;
    }

    .step-desc code {
      background: rgba(0,255,65,0.06);
      border: 1px solid var(--border);
      padding: 2px 8px;
      font-family: var(--font);
      font-size: 12px;
      color: var(--cyan);
    }

    /* ── FAQ ─────────────────────────────────────── */
    .faq-item {
      padding: 20px 0;
      border-bottom: 1px solid var(--border);
    }

    .faq-item:last-child { border-bottom: none; }

    .faq-q {
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 0.5px;
      color: var(--green);
      margin-bottom: 8px;
    }

    .faq-a {
      font-size: 13px;
      color: var(--green-dim);
      line-height: 1.7;
    }

    /* ── Footer ─────────────────────────────────── */
    .footer {
      text-align: center;
      padding: 60px 0 40px;
      border-top: 1px solid var(--border);
      margin-top: 60px;
    }

    .footer-text {
      font-size: 12px;
      color: var(--green-dim);
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    .footer-text .dot {
      display: inline-block;
      width: 6px;
      height: 6px;
      background: var(--green);
      border-radius: 50%;
      margin: 0 10px;
      vertical-align: middle;
      box-shadow: 0 0 6px var(--green);
    }
  </style>
</head>
<body>

  <!-- ═══ HERO ═══ -->
  <section class="hero">
    <div class="hero-inner">
      <span class="badge">Free macOS App</span>
      <h1>MarketTime</h1>
      <p class="hero-sub">
        A lightweight <strong>macOS menu bar app</strong> that shows NYSE market status
        with a live countdown timer. Open, closed, time until next bell &mdash;
        <strong>always visible</strong>.
      </p>

      <!-- ═══ LIVE PANEL (mirrors the actual app) ═══ -->
      <div class="live-panel">
        <div class="power-dot"></div>
        <div class="panel-title">NEW YORK STOCK<br>EXCHANGE</div>
        <div class="panel-status">
          <span class="status-dot closed" id="statusDot"></span>
          <span id="statusText">MARKET CLOSED</span>
        </div>
        <div class="panel-divider"></div>
        <p class="panel-label" id="countdownLabel">TIME UNTIL MARKET OPEN</p>
        <div class="seg-display" id="segDisplay"></div>
        <div class="panel-divider"></div>
        <div class="panel-info">
          <div class="panel-row">
            <span id="localLabel">LOCAL TIME</span>
            <span id="localTime">--:--:--</span>
          </div>
          <div class="panel-row">
            <span>CURRENT TIME [EST]</span>
            <span id="estTime">--:--:--</span>
          </div>
          <div class="panel-row">
            <span>MARKET HOURS</span>
            <span>09:30 - 16:00</span>
          </div>
          <div class="panel-row">
            <span>NEXT TRADING DAY</span>
            <span id="nextDay">--</span>
          </div>
        </div>
      </div>

      <div class="cta-wrap">
        <a class="cta" href="https://github.com/spacemnke/MarketTime/releases/latest/download/MarketTime.zip">Download App</a>
      </div>
      <p class="cta-note">v1.0 &mdash; macOS 13+</p>
    </div>
  </section>

  <div class="container">

    <div class="divider"></div>

    <!-- ═══ FEATURES ═══ -->
    <p class="section-label">What It Does</p>

    <div class="features">
      <div class="feature">
        <div class="feature-icon" style="background: var(--green); border-radius: 2px;"></div>
        <div class="feature-title">Live Countdown</div>
        <p class="feature-desc">Always know exactly how long until the market opens or closes. Counts down to the second, right in your menu bar.</p>
      </div>
      <div class="feature">
        <div class="feature-icon" style="background: var(--red); border-radius: 2px;"></div>
        <div class="feature-title">Status at a Glance</div>
        <p class="feature-desc">Green dot when open, red when closed. See the market state without opening a browser or checking your phone.</p>
      </div>
      <div class="feature">
        <div class="feature-icon" style="background: var(--amber); border-radius: 2px;"></div>
        <div class="feature-title">Holiday-Aware</div>
        <p class="feature-desc">Automatically handles all NYSE holidays, observed dates, and weekends. No surprises on MLK Day or Good Friday.</p>
      </div>
      <div class="feature">
        <div class="feature-icon" style="background: var(--cyan); border-radius: 2px;"></div>
        <div class="feature-title">Dual Timezone</div>
        <p class="feature-desc">Shows both your local time and Eastern Time. Built for traders outside the EST zone who still trade New York hours.</p>
      </div>
    </div>

    <div class="divider"></div>

    <!-- ═══ INSTALLATION ═══ -->
    <p class="section-label">Installation (30 Seconds)</p>

    <div class="steps">
      <div class="step">
        <div class="step-content">
          <div class="step-title">Download &amp; Unzip</div>
          <p class="step-desc">Click the download button above. Unzip <code>MarketTime.zip</code> &mdash; you'll see two items inside: the app and an installer.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-content">
          <div class="step-title">Run the Installer</div>
          <p class="step-desc">Double-click <code>install.command</code>. It copies the app to your Applications folder, clears the macOS security flag, and launches it automatically. If prompted, click <strong>Open</strong> to allow it.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-content">
          <div class="step-title">Done</div>
          <p class="step-desc">MarketTime appears in your menu bar. Click to expand the full dashboard. To start at login, add it in <strong>System Settings &gt; General &gt; Login Items</strong>.</p>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- ═══ FAQ ═══ -->
    <p class="section-label">FAQ</p>

    <div class="faq-item">
      <p class="faq-q">Is this free?</p>
      <p class="faq-a">Yes, completely free. No accounts, no tracking, no data collection. The app runs entirely on your Mac.</p>
    </div>

    <div class="faq-item">
      <p class="faq-q">What macOS version do I need?</p>
      <p class="faq-a">macOS 13 (Ventura) or later. Works on both Apple Silicon and Intel Macs.</p>
    </div>

    <div class="faq-item">
      <p class="faq-q">Does it send my data anywhere?</p>
      <p class="faq-a">No. MarketTime has zero network requests. It calculates everything locally using your system clock and the NYSE schedule.</p>
    </div>

    <div class="faq-item">
      <p class="faq-q">Why does macOS say the app is damaged?</p>
      <p class="faq-a">It's not damaged &mdash; macOS quarantines apps downloaded from the internet that aren't notarized through Apple. The included <code>install.command</code> script handles this automatically. If you moved the app manually instead, open Terminal and run: <code>xattr -cr /Applications/MarketTime.app</code></p>
    </div>

    <div class="faq-item">
      <p class="faq-q">Does it handle early close days?</p>
      <p class="faq-a">Currently it tracks standard 9:30&ndash;4:00 hours. Early close days (day before July 4th, Black Friday, Christmas Eve) are not yet included but may be added in a future update.</p>
    </div>

    <div class="faq-item">
      <p class="faq-q">How do I quit the app?</p>
      <p class="faq-a">Click the menu bar item to open the popover, then click "Quit" at the bottom. Or right-click the menu bar item and select "Quit MarketTime".</p>
    </div>

    <div class="faq-item">
      <p class="faq-q">How do I update?</p>
      <p class="faq-a">Download the latest .zip, replace the old app, and relaunch. That's it.</p>
    </div>

    <!-- ═══ FOOTER ═══ -->
    <div class="footer">
      <p class="footer-text">
        MarketTime <span class="dot"></span> v1.0 <span class="dot"></span> Built for traders
      </p>
    </div>

  </div>

  <!-- ═══ LIVE 7-SEGMENT COUNTDOWN ENGINE ═══ -->
  <script>
    // Segment patterns: [a, b, c, d, e, f, g]
    const SEGS = [
      [1,1,1,1,1,1,0], // 0
      [0,1,1,0,0,0,0], // 1
      [1,1,0,1,1,0,1], // 2
      [1,1,1,1,0,0,1], // 3
      [0,1,1,0,0,1,1], // 4
      [1,0,1,1,0,1,1], // 5
      [1,0,1,1,1,1,1], // 6
      [1,1,1,0,0,0,0], // 7
      [1,1,1,1,1,1,1], // 8
      [1,1,1,1,0,1,1], // 9
    ];

    function createDigit() {
      const d = document.createElement('div');
      d.className = 'seg-digit';
      const names = ['a','b','c','d','e','f','g'];
      const types = ['h','v','v','h','v','v','h'];
      names.forEach((n, i) => {
        const s = document.createElement('div');
        s.className = `seg seg-${types[i]} seg-${n}`;
        s.dataset.seg = n;
        d.appendChild(s);
      });
      return d;
    }

    function createColon() {
      const c = document.createElement('div');
      c.className = 'seg-colon';
      c.innerHTML = '<span></span><span></span>';
      return c;
    }

    // Build display: DD:DD:DD
    const display = document.getElementById('segDisplay');
    const digitEls = [];
    for (let i = 0; i < 8; i++) {
      if (i === 2 || i === 5) {
        display.appendChild(createColon());
      } else {
        const d = createDigit();
        display.appendChild(d);
        digitEls.push(d);
      }
    }

    function setDisplay(str) {
      // str = "HH:MM:SS" — extract digits only
      const digits = str.replace(/:/g, '');
      digitEls.forEach((el, i) => {
        const n = parseInt(digits[i]) || 0;
        const pattern = SEGS[n];
        const segs = el.querySelectorAll('.seg');
        const order = ['a','b','c','d','e','f','g'];
        segs.forEach(s => {
          const idx = order.indexOf(s.dataset.seg);
          s.classList.toggle('on', !!pattern[idx]);
        });
      });
    }

    // ── Market Timer Logic (mirrors the Swift app) ──

    function getNYTime() {
      return new Date(new Date().toLocaleString('en-US', { timeZone: 'America/New_York' }));
    }

    function isMarketHoliday(date) {
      const m = date.getMonth() + 1;
      const d = date.getDate();
      const wd = date.getDay(); // 0=Sun, 6=Sat
      // Simplified holiday check for major NYSE holidays
      if (m===1 && d===1 && wd!==0 && wd!==6) return true;
      if (m===1 && d===2 && wd===1) return true;
      if (m===12 && d===31 && wd===5) return true;
      if (m===1 && wd===1 && d>=15 && d<=21) return true; // MLK
      if (m===2 && wd===1 && d>=15 && d<=21) return true; // Presidents
      if (m===6 && d===19 && wd!==0 && wd!==6) return true; // Juneteenth
      if (m===6 && d===20 && wd===1) return true;
      if (m===6 && d===18 && wd===5) return true;
      if (m===7 && d===4 && wd!==0 && wd!==6) return true; // July 4
      if (m===7 && d===5 && wd===1) return true;
      if (m===7 && d===3 && wd===5) return true;
      if (m===9 && wd===1 && d>=1 && d<=7) return true; // Labor
      if (m===11 && wd===4 && d>=22 && d<=28) return true; // Thanksgiving
      if (m===12 && d===25 && wd!==0 && wd!==6) return true; // Christmas
      if (m===12 && d===26 && wd===1) return true;
      if (m===12 && d===24 && wd===5) return true;
      return false;
    }

    function pad2(n) { return String(n).padStart(2, '0'); }

    function formatTime(d) {
      return pad2(d.getHours()) + ':' + pad2(d.getMinutes()) + ':' + pad2(d.getSeconds());
    }

    function findNextOpen(ny) {
      const check = new Date(ny);
      const mins = check.getHours() * 60 + check.getMinutes();
      const wd = check.getDay();
      if (wd >= 1 && wd <= 5 && !isMarketHoliday(check) && mins < 570) {
        // Today before open
        check.setHours(9, 30, 0, 0);
        return check;
      }
      // Find next trading day
      for (let i = 1; i <= 14; i++) {
        const next = new Date(ny);
        next.setDate(next.getDate() + i);
        next.setHours(9, 30, 0, 0);
        const nwd = next.getDay();
        if (nwd >= 1 && nwd <= 5 && !isMarketHoliday(next)) return next;
      }
      return ny;
    }

    function getNextDayLabel(ny, nextOpen) {
      const today = new Date(ny); today.setHours(0,0,0,0);
      const openDay = new Date(nextOpen); openDay.setHours(0,0,0,0);
      const diff = Math.round((openDay - today) / 86400000);
      if (diff === 0) return 'TODAY';
      if (diff === 1) return 'TOMORROW';
      return ['SUNDAY','MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY'][nextOpen.getDay()];
    }

    function tick() {
      const now = new Date();
      const ny = getNYTime();
      const wd = ny.getDay();
      const totalSec = ny.getHours()*3600 + ny.getMinutes()*60 + ny.getSeconds();
      const openSec = 9*3600 + 30*60;
      const closeSec = 16*3600;
      const isWeekday = wd >= 1 && wd <= 5;
      const isHoliday = isMarketHoliday(ny);
      const isOpen = isWeekday && !isHoliday && totalSec >= openSec && totalSec < closeSec;

      const dot = document.getElementById('statusDot');
      const statusEl = document.getElementById('statusText');
      const labelEl = document.getElementById('countdownLabel');
      const nextEl = document.getElementById('nextDay');

      if (isOpen) {
        dot.className = 'status-dot open';
        statusEl.textContent = 'MARKET OPEN';
        labelEl.textContent = 'TIME UNTIL MARKET CLOSE';
        nextEl.textContent = 'TODAY';
        const rem = closeSec - totalSec;
        const h = Math.floor(rem / 3600);
        const m = Math.floor((rem % 3600) / 60);
        const s = rem % 60;
        setDisplay(pad2(h) + ':' + pad2(m) + ':' + pad2(s));
      } else {
        dot.className = 'status-dot closed';
        statusEl.textContent = 'MARKET CLOSED';
        labelEl.textContent = 'TIME UNTIL MARKET OPEN';
        const nextOpen = findNextOpen(ny);
        nextEl.textContent = getNextDayLabel(ny, nextOpen);
        const rem = Math.max(0, Math.floor((nextOpen - ny) / 1000));
        const h = Math.floor(rem / 3600);
        const m = Math.floor((rem % 3600) / 60);
        const s = rem % 60;
        setDisplay(pad2(h) + ':' + pad2(m) + ':' + pad2(s));
      }

      // Times
      document.getElementById('estTime').textContent = formatTime(ny);
      document.getElementById('localTime').textContent = formatTime(now);
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
      const abbr = now.toLocaleTimeString('en-US', { timeZoneName: 'short' }).split(' ').pop();
      document.getElementById('localLabel').textContent = 'LOCAL TIME [' + abbr + ']';
    }

    tick();
    setInterval(tick, 1000);
  </script>

</body>
</html>
